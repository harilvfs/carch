name: Comment on PR

on:
  pull_request:
    types: [opened]
  workflow_dispatch:

jobs:
  comment:
    runs-on: ubuntu-latest
    steps:
      - name: Comment on PR
        uses: actions/github-script@v7
        with:
          script: |
            const message = [
              "Thanks for opening the PR! 🙌",
              "",
              "Please make sure the PR title follows the [Conventional Commits](https://www.conventionalcommits.org/) guidelines.",
              "",
              "Also, prefer following this extended guide: https://gist.github.com/harilvfs/53cc86aa79ea4642356540aadc6bd87d",
              "",
              "✅ Don't forget to check the CI workflow status! If it fails, review your changes and try to fix the issues.",
              "",
              "💬 Connect with us:",
              "- Discord: https://discord.com/invite/8NJWstnUHd",
              "- Telegram: https://t.me/carchx",
              "",
              "🕐 If your PR review is delayed, feel free to reach out via email: harilvfs@chalisehari.com.np",
              "",
              "Thank you! 💖"
            ].join("\n");

            github.rest.issues.createComment({
              owner: context.repo.owner,
              repo: context.repo.repo,
              issue_number: context.issue.number,
              body: message
            });
